<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>TeamKP VM Registration</title>

    <!-- Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <!--<link href="static/css/bootstrap.min.css" rel="stylesheet">-->
    <link href="/static/css/style.css" rel="stylesheet">
  </head>
  <body>

  <div class='container'>
  <div class='row'>
    <div class='col-md-12 text-center'>
      <h1>Hello World Tutorial</h1>
      {% if 'username' in request.cookies %}
      {{request.cookies.username}}@{{request.cookies.vm_name}}
      {% endif %}
    </div>
  </div>
 <div class='row'>
    <div class='col-md-12'>
      <ul id="progressbar">
        <li class='active'><a href='/'>Register</a></li>
        <li class='active'><a href='/vpn_setup'>VPN Setup</a></li>
        {% if not 'backend' in request.cookies %}<li class='active'><a href='/hello_world'>Hello World Tutorial</a></li>{% endif %}
        <li class='active'><a href='/rest_api'>REST API Tutorial</a></li>
        <li>Start Working</li>
      </ul>
    </div>
  </div>
  <div class='row'>
    <div class='col-md-12'>
      &nbsp;
    </div>
  </div>
  <!-- HR -->
  <div class='row'><div class='col-12'><hr/></div></div>
  <!--/HR -->
  <div class='row'>
    <div class='col-md-1'>
       <span class='giant'>8</span>
    </div>
    <div class='col-md-11'>
    <p>In the Hello, World tutorial we would run the file where all the code was.  In the situtation
       where we have a bunch of files we need to create a program that imports our code and runs it.</p>

    <p>This is incredibly simple.  We will create a file called run.py.</p>

    <p><pre class='prettyprint lang-bash' style='background-color: #012'>
vim run.py</pre></p>

    <p>Put the following in the file.</p>

    <p><pre class='prettyprint lang-bash'>
#!/usr/bin/python3

from myapp import app

# Define the port we want to run on
PORT = 5001

# Run this app
app.run(debug=True, host='0.0.0.0', port=PORT, threaded=True)</pre></p>

    <p>We've already discussed the `shebang` line.  Let's look at the rest of them.</p>

    <p><pre class='prettyprint lang-bash'>
from myapp import app</pre></p>

    <p>We are importing the module that we are building so we can call app.run() on it.</p>

    <p><pre class='prettyprint lang-bash'>
# Define the port we want to run on
PORT = 5001</pre></p>

    <p>Since we ran the Hello World tutorial on port 5000 we will run this one on port 5001 so
       they can both run at the same time.</p>

    <p><pre class='prettyprint lang-bash'>
# Run this app
app.run(debug=True, host='0.0.0.0', port=PORT, threaded=True)</pre></p>

    <p>This line is where all the work is done.  It runs on your VM's ip address and it enables Threading.</p>

    <p>We are now ready to write our first API function in Step 9.</p>

    </div>
  </div>
  <!-- HR -->
  <div class='row'><div class='col-12'><hr/></div></div>
  <!--/HR -->
  <div class='row'>
    <div class='col-1'>
       <span class='giant'>9</span>
    </div>
    <div class='col-11'>
    Step 9 is continued on the <a href='/rest_api/9'>next page</a>.
    </div>
  </div>

  <!-- End of tutorial -->
  <div class='row'>
    <div class='col-md-12'>
      &nbsp;
    </div>
  </div>
  </div> <!-- End container -->

{% include 'footer.html' %}
